#!/bin/bash
#Initial input checking	
if [ "$1" = "-r" ]; then
	echo Will calculate rows
elif [ "$1" = "-c" ]; then
	echo will calculate columns
else 
	echo "Usage: stats {-rows|-cols} [input_file]"
fi

echo "Print out test file"
while read line
do
	echo "$line"

done < test_file


#-------------Begin Column Average Calculation--------------#
wc -l < test_file > line_number 
read lines < line_number
count=1
col_sum=0
avg=0
#echo "Lines: $lines"
#echo "count: $count"

echo "Average: "
while (( count < lines ))
do
	cut -f"$count" test_file > output_file
	col_sum=0
	#col_sum=0
	#avg=0
	wc -l < output_file > line_number
	#read lines < line_number
	#echo "Lines: $lines"
	while read col
	do 	
		let col_sum=col_sum+col
	done < output_file
	avg=$(echo "scale=4; $col_sum/$lines" | bc ) 
	echo "$avg"
	let count=count+1
	#echo "count: $count"

done 
#--------------End Column Average Calculation---------------#
